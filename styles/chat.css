.msn_log {
  overflow-y: scroll;
  overflow-x: hidden;
  height: 100%;
  box-sizing: border-box;
  padding: 0.5em 1em;

  display: flex;
  flex-direction: column;

  .msn_message {
    font-size: 1.4em;

    .thread-format & {
      max-width: 64%;
      margin-bottom: 10px;

      &.is-self-true  {
        align-self: flex-end;

        .msn_message_text {
          background-color: #d7e4f4;
        }
      }

      &.is-self-false {
        align-self: flex-start;

        .msn_message_text {
          background-color: #ededed;
        }
      }
    }

    .msn_message_header {
      color: #8d8a8a;
      opacity: 0.9;
      /* margin: 0.4em 0; */
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 3px 10px;
    }

    .msn_user {
      flex-grow: 1;
      display: flex;
      gap: 0.25em;
      flex-wrap: wrap;

      .friendly-name {
        &:after {
          content: " says:";
        }
      }

      .logon-name {
        display: none;
        font-size: .85em;
        line-height: normal;

        &::before {
          content: "<";
        }

        &::after {
          content: ">";
        }

        .show-logon-name & {
          display: inline;
        }

        .show-logon-name &.has-logon-false {
          display: inline;
          color: #db0000;
        }
      }

      .custom-name {
        display: none;
        font-size: .85em;
        line-height: normal;

        &::before {
          content: "<";
        }

        &::after {
          content: ">";
        }

        .show-custom-names &.is-from-true,
        .show-custom-names &.is-to-true {
          display: inline;
        }

        .show-custom-names &.is-from-false.is-to-false {
          display: inline;
          color: #db0000;
        }
      }
    }

    .msn_date_time {
      display: flex;
      gap: 3px;
      font-size: 0.8em;
      flex-grow: 1;
      justify-content: flex-end;

      span {
        display: contents;
      }

      .thread-format & {
        justify-content: flex-start;
      }

      .msn_date,
      .msn_time {
        display: none;
      }

      .show-date & {
        .msn_date {
          display: contents;
        }
      }

      .show-time & {
        .msn_time {
          display: contents;
        }
      }

      .msn_date+span {
        display: none;
      }

      .show-date.show-time & {
        .msn_date+span {
          display: contents;
        }
      }
    }

    .msn_message_text {
      margin: 0.2em 1em;
      line-height: 21px;

      .thread-format & {
        margin: 0.2em 0;
        padding: 0.2em 1em;
        border-radius: 8px;
      }
    }
  }

  .msn_invitation {
    font-size: 1.2em;
    border: 1px solid #8d8a8a;
    border-left: 0;
    border-right: 0;
    margin: 13px 0;
    padding: 7px 0;

    .msn_message_text {
      line-height: 21px;
    }
  }

  .file_notes {
    font-size: 12px;
    background-color: #d7e4f4;
    margin: 10px -10px;
    line-height: 18px;
    text-align: center;
    color: #000;
    padding: 2px 10px;
  }

  .txt_notes {
    font-size: 12px;
    background-color: #f7f7f7;
    margin: 10px 0;
    line-height: 18px;
    text-align: left;
    color: #757575;
    border-radius: 6px;
    padding: 2px 10px;
    overflow-x: auto;
    overflow-y: visible;
    flex-shrink: 0;
  }

  .file_notes + .txt_notes {
    margin-top: 0;
  }

  .date-diff {
    font-size: 1.2em;
    border: 1px solid #8d8a8a;
    border-left: 0;
    border-right: 0;
    margin: 13px 0;
    padding: 7px 0;
    line-height: 21px;
    text-align: center;
    color: #8d8a8a;

    &::before {
      content: "Time elapsed: ";
    }
  }
}

.emoticon {
  & span {
    display: none;
  }

  & img {
    vertical-align: middle;
    display: inline-block;
    margin-top: -4px;
    width: 19px;
    height: 19px;
  }

  .hide-emoticons & {
    & span {
      display: inline;
    }

    & img {
      display: none;
    }
  }
}